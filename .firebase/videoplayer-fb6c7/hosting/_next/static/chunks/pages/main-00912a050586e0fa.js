(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[87],{1490:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/main",function(){return a(7802)}])},702:(e,t,a)=>{"use strict";a.d(t,{A:()=>l,db:()=>d,j:()=>s});var n=a(223),i=a(1032),o=a(2405);let r=(0,n.Dk)().length?(0,n.Dk)()[0]:(0,n.Wp)({apiKey:"AIzaSyDAKQpMTfX0SSe_6s16ZkBCjPFz7SHuPSI",authDomain:"videoplayer-fb6c7.firebaseapp.com",projectId:"videoplayer-fb6c7",storageBucket:"videoplayer-fb6c7.firebasestorage.app",messagingSenderId:"439617834638",appId:"1:439617834638:web:1faab75bddb3a5c690c3df",measurementId:"G-T7T67J8YXE"}),s=(0,i.xI)(r),d=(0,o.aU)(r),l=r},7802:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var n=a(4848),i=a(3368),o=a.n(i),r=a(9680),s=a.n(r),d=a(6540),l=a(6715),c=a(2405),u=a(702),_=a(1032);function m(e){let{video:t}=e,a=(0,l.useRouter)(),i=(e=>{try{let t=new URL(e);if(t.hostname.includes("youtube.com"))return t.searchParams.get("v");if(t.hostname.includes("youtu.be"))return t.pathname.substring(1)}catch(e){return console.error("Error parsing video URL:",e),null}})(t.url),o="instagram"===t.platform.toLowerCase();return(0,n.jsxs)("div",{className:s().videoCard,onClick:()=>{a.push({pathname:"/WatchVideo",query:{id:t.id}})},style:{cursor:"pointer"},children:[o?(0,n.jsx)("img",{src:"/images/Instagram.png",alt:t.title,style:{width:"300px",height:"200px",objectFit:"contain",borderRadius:"10px"}}):i?(0,n.jsx)("img",{src:"https://img.youtube.com/vi/".concat(i,"/hqdefault.jpg"),alt:t.title,style:{width:"300px",height:"200px",objectFit:"contain",borderRadius:"10px"}}):(0,n.jsx)("p",{className:"text-red-500",children:"Thumbnail not available"}),(0,n.jsx)("h2",{className:"text-xl font-semibold mt-2",children:t.title}),(0,n.jsxs)("p",{className:"text-gray-600",children:[(0,n.jsx)("strong",{children:"Platform:"})," ",t.platform]}),(0,n.jsxs)("p",{className:"text-gray-600",children:[(0,n.jsx)("strong",{children:"Added on:"})," ",t.addDate]})]})}function h(){let[e,t]=(0,d.useState)(null),[a,i]=(0,d.useState)([]),[r,h]=(0,d.useState)(!0),[p,f]=(0,d.useState)("Favorites"),[g,b]=(0,d.useState)([]),x=(0,l.useRouter)(),H=async()=>{try{if(!e)return["Favorites"];let t=(0,c.P)((0,c.rJ)(u.db,"videos"),(0,c._M)("author","==",e.uid)),a=await (0,c.GG)(t),n=Array.from(new Set(a.docs.map(e=>e.data().list)));return["Favorites",...n.filter(e=>"Favorites"!==e)]}catch(e){return console.error("Error fetching user lists:",e),["Favorites"]}};return((0,d.useEffect)(()=>{e&&(async()=>{try{let t=(0,c.P)((0,c.rJ)(u.db,"videos"),(0,c._M)("list","==",p),(0,c._M)("author","==",e.uid)),a=(await (0,c.GG)(t)).docs.map(e=>({id:e.id,...e.data()}));i(a)}catch(e){console.error("Error fetching videos:",e)}})()},[e,p]),(0,d.useEffect)(()=>{e&&(async()=>{b(await H())})()},[e]),(0,d.useEffect)(()=>{let e=(0,_.hg)(u.j,e=>{e?(t(e),h(!1)):x.push("/")});return()=>e()},[]),r)?null:(0,n.jsxs)("div",{children:[(0,n.jsxs)(o(),{children:[(0,n.jsx)("title",{children:"Main | VideoPlayerWeb"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsx)("main",{className:s().main,children:(0,n.jsxs)("div",{className:s().containerVideoPlayer,children:[(0,n.jsx)("div",{className:s().mainHeader,children:g.map(e=>(0,n.jsx)("button",{onClick:()=>f(e),className:p===e?s().mainHeaderButtonSelected:s().mainHeaderButton,children:e},e))}),(0,n.jsx)("div",{className:s().mainMain,children:a.length>0?a.map(e=>(0,n.jsx)(m,{video:e},e.id)):(0,n.jsx)("p",{className:s().header,children:"No videos found"})}),(0,n.jsx)("button",{className:s().floatingButton,onClick:()=>x.push("/AddVideo"),children:"Add Video"}),(0,n.jsx)("button",{className:s().floatingButtonLogOut,onClick:()=>u.j.signOut(),children:"Log Out"})]})})]})}},9680:e=>{e.exports={main:"Home_main__VkIEL",button:"Home_button__G93Ef",header:"Home_header__y2QYS",container:"Home_container__d256j",authForm:"Home_authForm__lMNeq",error:"Home_error__514Ji",blueTextLink:"Home_blueTextLink__f5GMU",mainTitle:"Home_mainTitle__o5VAj",videoPLayer:"Home_videoPLayer__bMUJ9",containerVideoPlayer:"Home_containerVideoPlayer__hsOyk",scrollContainer:"Home_scrollContainer__MVele",mainHeader:"Home_mainHeader__l_zmF",mainHeaderButton:"Home_mainHeaderButton__iCv2X",mainHeaderButtonSelected:"Home_mainHeaderButtonSelected__AJ4us",mainMain:"Home_mainMain__WlI6q",videoCard:"Home_videoCard__Os_i0",buttonContainer:"Home_buttonContainer__nOVuY",backButton:"Home_backButton__kEp3f",deleteButton:"Home_deleteButton__o1Y2v",iframe:"Home_iframe__ugn_m",floatingButton:"Home_floatingButton__BnxhM",floatingButtonLogOut:"Home_floatingButtonLogOut__sK6Eb",titleAdd:"Home_titleAdd__yI638",inputAdd:"Home_inputAdd__8c7Dg",selectContainerAdd:"Home_selectContainerAdd__gy9pq"}},6715:(e,t,a)=>{e.exports=a(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[883,285,498,636,593,792],()=>t(1490)),_N_E=e.O()}]);