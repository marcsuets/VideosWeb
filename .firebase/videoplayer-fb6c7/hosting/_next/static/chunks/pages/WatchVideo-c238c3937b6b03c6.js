(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[738],{3586:(e,t,a)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/WatchVideo",function(){return a(1614)}])},702:(e,t,a)=>{"use strict";a.d(t,{A:()=>d,db:()=>s,j:()=>l});var o=a(223),r=a(1032),n=a(2405);let i=(0,o.Dk)().length?(0,o.Dk)()[0]:(0,o.Wp)({apiKey:"AIzaSyDAKQpMTfX0SSe_6s16ZkBCjPFz7SHuPSI",authDomain:"videoplayer-fb6c7.firebaseapp.com",projectId:"videoplayer-fb6c7",storageBucket:"videoplayer-fb6c7.firebasestorage.app",messagingSenderId:"439617834638",appId:"1:439617834638:web:1faab75bddb3a5c690c3df",measurementId:"G-T7T67J8YXE"}),l=(0,r.xI)(i),s=(0,n.aU)(i),d=i},1614:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>u});var o=a(4848),r=a(6715),n=a(6540),i=a(2405),l=a(702),s=a(3368),d=a.n(s),c=a(9680),_=a.n(c),m=a(1032);function u(){let e=(0,r.useRouter)(),{id:t}=e.query,[a,s]=(0,n.useState)(null),[c,u]=(0,n.useState)(!0),[h,p]=(0,n.useState)(null),f=async()=>{try{if(!t)return;let e=(0,i.H9)(l.db,"videos",t),a=await (0,i.x7)(e);a.exists()?s({id:a.id,...a.data()}):console.error("No such video!")}catch(e){console.error("Error fetching video:",e)}finally{u(!1)}};(0,n.useEffect)(()=>{let t=(0,m.hg)(l.j,t=>{t?(p(t),u(!1)):e.push("/")});return()=>t()},[]);let b=async()=>{try{if(t){let a=(0,i.H9)(l.db,"videos",t);await (0,i.kd)(a),e.push("/main")}}catch(e){console.error("Error deleting video:",e)}};return((0,n.useEffect)(()=>{f()},[t]),c)?(0,o.jsx)("p",{children:"Loading..."}):a?(0,o.jsxs)("div",{children:[(0,o.jsxs)(d(),{children:[(0,o.jsxs)("title",{children:["Watch ",a.title," | VideoPlayerWeb"]}),(0,o.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,o.jsx)("main",{className:_().main,children:(0,o.jsxs)("div",{className:_().containerVideoPlayer,children:[(0,o.jsx)("h1",{children:a.title}),"youtube"===a.platform.toLowerCase()?(0,o.jsx)("iframe",{width:"560",height:"315",src:"https://www.youtube.com/embed/".concat((e=>{try{let t=new URL(e);if(t.hostname.includes("youtube.com"))return t.searchParams.get("v");if(t.hostname.includes("youtu.be"))return t.pathname.substring(1)}catch(e){return console.error("Error parsing video URL:",e),null}})(a.url)),title:a.title,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,className:_().iframe}):"instagram"===a.platform.toLowerCase()?(0,o.jsx)("iframe",{src:(e=>{try{let t=new URL(e);if(t.hostname.includes("instagram.com")){let e=t.pathname.split("/")[2];return"https://www.instagram.com/p/".concat(e,"/embed")}}catch(e){return console.error("Error parsing Instagram URL:",e),null}})(a.url),width:"400",height:"480",allowTransparency:"true",title:"Instagram Video",className:_().iframe}):(0,o.jsx)("p",{children:"Video embed functionality for this platform is not implemented."}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"Added on:"})," ",a.addDate]}),(0,o.jsxs)("div",{className:_().buttonContainer,children:[(0,o.jsx)("button",{onClick:()=>e.back(),className:_().mainHeaderButton,children:"Back"}),(0,o.jsx)("button",{onClick:b,className:_().mainHeaderButton,children:"Delete Video"})]})]})})]}):(0,o.jsx)("p",{children:"Video not found."})}},9680:e=>{e.exports={main:"Home_main__VkIEL",button:"Home_button__G93Ef",header:"Home_header__y2QYS",container:"Home_container__d256j",authForm:"Home_authForm__lMNeq",error:"Home_error__514Ji",blueTextLink:"Home_blueTextLink__f5GMU",mainTitle:"Home_mainTitle__o5VAj",videoPLayer:"Home_videoPLayer__bMUJ9",containerVideoPlayer:"Home_containerVideoPlayer__hsOyk",scrollContainer:"Home_scrollContainer__MVele",mainHeader:"Home_mainHeader__l_zmF",mainHeaderButton:"Home_mainHeaderButton__iCv2X",mainHeaderButtonSelected:"Home_mainHeaderButtonSelected__AJ4us",mainMain:"Home_mainMain__WlI6q",videoCard:"Home_videoCard__Os_i0",buttonContainer:"Home_buttonContainer__nOVuY",backButton:"Home_backButton__kEp3f",deleteButton:"Home_deleteButton__o1Y2v",iframe:"Home_iframe__ugn_m",floatingButton:"Home_floatingButton__BnxhM",floatingButtonLogOut:"Home_floatingButtonLogOut__sK6Eb",titleAdd:"Home_titleAdd__yI638",inputAdd:"Home_inputAdd__8c7Dg",selectContainerAdd:"Home_selectContainerAdd__gy9pq"}},6715:(e,t,a)=>{e.exports=a(8440)}},e=>{var t=t=>e(e.s=t);e.O(0,[883,285,498,636,593,792],()=>t(3586)),_N_E=e.O()}]);